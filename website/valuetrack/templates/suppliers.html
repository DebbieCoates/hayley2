{% extends 'base.html' %}

{% block content %}
  SUPPLIERS PAGE
  <div style="
      display: flex; 
      justify-content: space-between; 
      align-items: center; 
      margin-bottom: 20px;
  ">

      <!-- LEFT SIDE -->
      <div>
          <h2 style="margin: 0;">Suppliers</h2>
          <p style="margin: 0;">Total Suppliers: {{ suppliers_count }}</p>
      </div>

      <!-- RIGHT SIDE (FILTER FORM) -->
      <form method="get" style="display: flex; gap: 10px; align-items: center;">
          <input 
              type="text" 
              name="q" 
              placeholder="Filter suppliers..." 
              value="{{ query }}"
              style="padding: 6px; width: 250px; border-radius: .375rem; border: 1px solid #ccc;"
          >

          <button type="submit" class="btn btn-primary mb-0" style="padding: 6px 12px;">
              Search
          </button>

          <a href="{% url 'suppliers' %}" class="btn btn-secondary mb-0">
              Clear
          </a>
      </form>

  </div>



  <ul>
   {% for supplier in suppliers %}
      <h3><a href="{% url 'supplier_detail' supplier.id %}">{{ supplier.name }}</a></h3>
      <strong>Solutions offered:</strong>
      <ul>
        {% for link in supplier.solution_links %}
          <li>
            <strong>{{ link.solution.name }}</strong><br>
            <!-- <em>Standard description:</em> {{ link.solution.description }}<br> -->
            <em>Supplier-specific note:</em> {{ link.description }}
          </li>
        {% empty %}
          <li>No solutions listed.</li>
        {% endfor %}
      </ul>
      <hr>
    {% endfor %}
 </ul>

{% endblock %}